{% extends "account/base.html" %}

{% block title %}ProtonPayer - Registration{% endblock %}

{% block nav_bar %}
  <!-- Navbar -->
  <nav class="navbar navbar-default">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>                        
        </button>
        <a class="navbar-brand" href="{% url "account:home" %}">ProtonPayer</a>
      </div>
      <div class="collapse navbar-collapse" id="myNavbar">

        <!-- Navbar left -->
        <ul class="nav navbar-nav nav-custom-left">
          <li><a href="{% url "account:home" %}">Home</a></li>
          <li><a href="{% url "account:home" %}#howitworks">How It Works</a></li>
          <li><a href="{% url "account:home" %}#packages">Packages</a></li>
          <li><a href="{% url "account:home" %}#contact">Contact Us</a></li>
        </ul>

        <!-- Navbar right -->
        <ul class="nav navbar-nav navbar-right">
            <li><a href="{% url "account:login" %}"><span class="fa fa-sign-in fa-fw"></span> Login</a></li>
        </ul>

      </div>
    </div>
  </nav>
{% endblock %}

{% block content %}

<div class="container" style="color: black;"> <div class="row m-t-20"> <div class="col-md-6 col-md-offset-3"> <div class="panel panel-default"> <div class="panel-heading text-center"> <h4>Create an Account</h4> </div> <div class="panel-body">

<form role="form" method="POST" action="." name="registration">
  {% if errors or user_form.errors  %}
    <div class="alert alert-danger" style="margin-bottom: 15px;">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      {% for fields in user_form %}
          {% if fields.errors.as_text %}
              <strong>Error!</strong> {{ fields.errors.as_text }}.</br>
          {% endif %}
      {% endfor %}
      {% for e in errors %}
          <strong>Error!</strong> {{ e }}.</br>
      {% endfor %}
    </div>
  {% elif registered %}
    <div class="alert alert-success" style="margin-bottom: 15px;">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Success!</strong> Your account has been successfully created. Now you can <a href="{% url 'account:login' %}">log in</a>.
    </div>
  {% else %}
    <div class="alert alert-info" style="margin-bottom: 15px;">
      <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
      <strong>Info!</strong> Ensure that all your details are correct because it cannot be changed after registration.
    </div>
  {% endif %}

  <legend></legend>
  <div class="form-group">
    <label>Username:</label>
    <input class="form-control" placeholder="Enter your Username" type='text' name='username' value={% if user_form.username.value %}{{ user_form.username.value }}{% else %}""{% endif %} required/>
  </div> 
  <div class="form-group">
    <label>Password:</label>
    <input placeholder="Enter your password" class="form-control" type='password' name='password' required/>
  </div>
  <div class="form-group">
    <label>Confirm Password:</label>
    <input placeholder="Confirm your password" class="form-control" type='password' name='password2' required/>
  </div>
  <div class="form-group">
    <label>Email:</label>
    <input class="form-control" placeholder="Enter your Email Address" type='text' name='email' value={% if user_form.email.value %}{{ user_form.email.value }}{% else %}""{% endif %} required/>
  </div>
  <div class="form-group">
      <label>Phone Number:</label>
      <input  class="form-control" placeholder="Enter your Phone Number e.g 081XXXXXXXX" type='text' onkeypress="return validateNumber(event)" name='phone' maxlength="11" value={% if profile_form.phone.value %}{{ profile_form.phone.value }}{% else %}""{% endif %} required/>
  </div>
  <div class="form-group">
      <label>Surname:</label>
      <input  class="form-control" placeholder="Enter your Surname" type='text' name='surname' value={% if profile_form.surname.value %}{{ profile_form.surname.value }}{% else %}""{% endif %} required/>
  </div>
  <div class="form-group">
      <label>First Name:</label>
      <input class="form-control" placeholder="Enter your First Name" type='text' name='first_name' value={% if profile_form.first_name.value %}{{ profile_form.first_name.value }}{% else %}""{% endif %} required/>
  </div>
  <div class="form-group">
      <label>Bank:</label>
      <select class="form-control" name="bank" required>
          <option></option>
          <option {% if profile_form.bank.value == 'Access Bank' %}selected{% endif %}>
                    Access Bank</option>
                <option {% if profile_form.bank.value == 'Citibank' %}selected{% endif %}>
                    Citibank</option>
                <option {% if profile_form.bank.value == 'Diamond Bank' %}selected{% endif %}>
                    Diamond Bank</option>
                <option {% if profile_form.bank.value == 'Ecobank Nigeria' %}selected{% endif %}>
                    Ecobank Nigeria</option>
                <option {% if profile_form.bank.value == 'Fidelity Bank Nigeria' %}selected{% endif %}>
                    Fidelity Bank Nigeria</option>
                <option {% if profile_form.bank.value == 'First Bank of Nigeria' %}selected{% endif %}>
                    First Bank of Nigeria</option>
                <option {% if profile_form.bank.value == 'First City Monument Bank' %}selected{% endif %}>
                    First City Monument Bank</option>
                <option {% if profile_form.bank.value == 'FSDH Merchant Bank' %}selected{% endif %}>
                    FSDH Merchant Bank</option>
                <option {% if profile_form.bank.value == 'Guaranty Trust Bank' %}selected{% endif %}>
                    Guaranty Trust Bank</option>
                <option {% if profile_form.bank.value == 'Heritage Bank Plc.' %}selected{% endif %}>
                    Heritage Bank Plc.</option>
                <option {% if profile_form.bank.value == 'Keystone Bank Limited' %}selected{% endif %}>
                    Keystone Bank Limited</option>
                <option {% if profile_form.bank.value == 'Rand Merchant Bank' %}selected{% endif %}>
                    Rand Merchant Bank</option>
                <option {% if profile_form.bank.value == 'Skye Bank' %}selected{% endif %}>
                    Skye Bank</option>
                <option {% if profile_form.bank.value == 'Stanbic IBTC Bank Nigeria Limited' %}selected{% endif %}>
                    Stanbic IBTC Bank Nigeria Limited</option>
                <option {% if profile_form.bank.value == 'Standard Chartered Bank' %}selected{% endif %}>
                    Standard Chartered Bank</option>
                <option {% if profile_form.bank.value == 'Sterling Bank' %}selected{% endif %}>
                    Sterling Bank</option>
                <option {% if profile_form.bank.value == 'Suntrust Bank Nigeria Limited' %}selected{% endif %}>
                    Suntrust Bank Nigeria Limited</option>
                <option {% if profile_form.bank.value == 'Union Bank of Nigeria' %}selected{% endif %}>
                    Union Bank of Nigeria</option>
                <option {% if profile_form.bank.value == 'United Bank for Africa' %}selected{% endif %}>
                    United Bank for Africa</option>
                <option {% if profile_form.bank.value == 'Unity Bank Plc.' %}selected{% endif %}>
                    Unity Bank Plc.</option>
                <option {% if profile_form.bank.value == 'Wema Bank' %}selected{% endif %}>
                    Wema Bank</option>
                <option {% if request.user.profile.bank == 'Zenith Bank' %}selected{% endif %}>
                    Zenith Bank
                </option>
      </select>
  </div>
  <div class="form-group">
      <label>Account Number:</label>
      <input class="form-control" placeholder="Enter your NUBAN Account Number e.g 304XXXX528" name="account_number" onkeypress="return validateNumber(event)" class="form-input" maxlength="10" value={% if profile_form.account_number.value %}{{ profile_form.account_number.value }}{% else %}""{% endif %} required />
  </div>
  
  <div class="form-group"> 
  <div class="text-center">

  {% csrf_token %}
  <button type="submit" class="btn btn-custom"> Register </button>
  </div> <div>
  <a class="btn btn-link" href="{% url "account:password_reset" %}"> Forgot Your Password? </a>
  </div> </div> 
</form> 
</div> </div> </div> </div> </div>     </div>

{% endblock %}
    
{% block footer%}
  <!-- FOOTER -->
  <footer class="section">
      <div class="container">
          <div class="row">
              <div class="col-sm-12">
                  <div class="footer-alt text-center">
                      <p class="text-muted m-b-0">2017 Â© Copyright of ProtonPayer</p>
                  </div>
              </div>
          </div> <!-- end row -->

      </div> <!-- end container -->
  </footer>
  <!-- END FOOTER -->
{% endblock %}

